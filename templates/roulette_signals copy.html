<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roulette Signals</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos personalizados para el sidebar */
        #sidebar {
            transform: translateX(0) !important;
            visibility: visible !important;
            opacity: 1 !important;
            display: block !important;
        }
        
        /* Asegurar que el contenido principal tenga el margen correcto */
        main {
            margin-left: 20rem !important; /* 320px = 20rem */
        }
        
        /* Responsive para m√≥viles */
        @media (max-width: 1023px) {
            #sidebar {
                transform: translateX(-100%) !important;
                z-index: 9999 !important;
            }
            
            main {
                margin-left: 0 !important;
            }
            
            /* Bot√≥n de toggle siempre visible en m√≥vil */
            #mobileToggleBtn {
                display: block !important;
                z-index: 10000 !important;
            }
        }
        
        /* Desktop: sidebar siempre visible */
        @media (min-width: 1024px) {
            #sidebar {
                transform: translateX(0) !important;
                z-index: 40 !important;
            }
            
            main {
                margin-left: 20rem !important;
            }
            
            #mobileToggleBtn {
                display: none !important;
            }
        }
        
        /* Scrollbar personalizado */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* Forzar visibilidad del sidebar en todos los casos */
        #sidebar.show-mobile {
            transform: translateX(0) !important;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8) !important;
        }
    </style>
</head>
<body class="bg-black text-white font-sans antialiased">
    <!-- Navbar Ultra-Minimalista con Bot√≥n de Men√∫ -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-b border-white/5">
        <div class="px-4 py-3">
            <div class="flex items-center justify-between">
                <!-- Logo y T√≠tulo -->
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl border border-white/10 flex items-center justify-center">
                        <i class="fas fa-dice text-blue-400 text-sm"></i>
                    </div>
                    <h1 class="text-lg font-light text-white/90 tracking-wide hidden sm:block">Roulette</h1>
                </div>

                <!-- Bot√≥n de Men√∫ M√≥vil (Siempre Visible) -->
                <button id="mobileMenuBtn" class="lg:hidden w-9 h-9 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 flex items-center justify-center transition-all duration-300 group">
                    <i class="fas fa-bars text-white/60 group-hover:text-white/80 text-sm transition-colors"></i>
                </button>

                <!-- Acciones Desktop -->
                <div class="hidden lg:flex items-center space-x-2">
                    <button class="w-9 h-9 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 flex items-center justify-center transition-all duration-300 group">
                        <i class="fas fa-bell text-white/60 group-hover:text-white/80 text-sm transition-colors"></i>
                    </button>
                    
                    <div class="w-9 h-9 rounded-lg bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10 flex items-center justify-center">
                        <span class="text-white/80 text-sm font-medium">U</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar Profesional Ultra-Avanzado -->
    <aside id="sidebar" class="fixed left-0 top-16 h-full w-80 bg-gradient-to-b from-black/98 to-black/95 backdrop-blur-3xl border-r border-white/10 z-40 transition-all duration-300 shadow-2xl">
        <div class="h-full flex flex-col">
            <!-- Header del Sidebar -->
            <div class="p-6 border-b border-white/5">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-xl border border-white/20 flex items-center justify-center">
                        <i class="fas fa-dice text-blue-400 text-lg"></i>
                    </div>
                    <div>
                        <h2 class="text-white/90 font-semibold text-base">Roulette Pro</h2>
                        <p class="text-white/40 text-xs">Sistema Avanzado</p>
                    </div>
                </div>
            </div>

            <!-- Navegaci√≥n Principal -->
            <div class="flex-1 overflow-y-auto custom-scrollbar">
                <div class="p-4 space-y-2">
                    <!-- Secci√≥n Principal -->
                    <div class="mb-4">
                        <h3 class="text-xs font-medium text-white/40 uppercase tracking-widest mb-2 px-3">Principal</h3>
                        <nav class="space-y-1">
                            <a href="#" class="group flex items-center justify-between px-4 py-3 text-blue-400 bg-gradient-to-r from-blue-500/15 to-blue-500/5 rounded-xl border border-blue-500/20 font-medium transition-all duration-300">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-chart-line text-sm"></i>
                                    </div>
                                    <span class="text-sm">Dashboard</span>
                                </div>
                                <div class="w-2 h-2 bg-blue-400 rounded-full opacity-80"></div>
                            </a>
                            
                            <a href="#" class="group flex items-center justify-between px-4 py-3 text-white/60 hover:text-white/80 hover:bg-gradient-to-r hover:from-white/10 hover:to-white/5 rounded-xl transition-all duration-300">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-white/10 transition-colors">
                                        <i class="fas fa-signal text-sm group-hover:scale-110 transition-transform"></i>
                                    </div>
                                    <span class="text-sm">Se√±ales Live</span>
                                </div>
                                <div class="opacity-0 group-hover:opacity-100 transition-opacity">
                                    <div class="w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"></div>
                                </div>
                            </a>
                            
                            <a href="#" class="group flex items-center justify-between px-4 py-3 text-white/60 hover:text-white/80 hover:bg-gradient-to-r hover:from-white/10 hover:to-white/5 rounded-xl transition-all duration-300">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-white/10 transition-colors">
                                        <i class="fas fa-chart-bar text-sm group-hover:scale-110 transition-transform"></i>
                                    </div>
                                    <span class="text-sm">An√°lisis IA</span>
                                </div>
                                <span class="text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded-full border border-purple-500/30">PRO</span>
                            </a>
                            
                            <a href="#" class="group flex items-center justify-between px-4 py-3 text-white/60 hover:text-white/80 hover:bg-gradient-to-r hover:from-white/10 hover:to-white/5 rounded-xl transition-all duration-300">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-white/10 transition-colors">
                                        <i class="fas fa-history text-sm group-hover:scale-110 transition-transform"></i>
                                    </div>
                                    <span class="text-sm">Historial</span>
                                </div>
                            </a>
                        </nav>
                    </div>

                    <!-- Secci√≥n Herramientas -->
                    <div class="mb-4">
                        <h3 class="text-xs font-medium text-white/40 uppercase tracking-widest mb-2 px-3">Herramientas</h3>
                        <nav class="space-y-1">
                            <a href="#" class="group flex items-center justify-between px-4 py-3 text-white/60 hover:text-white/80 hover:bg-gradient-to-r hover:from-white/10 hover:to-white/5 rounded-xl transition-all duration-300">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-white/10 transition-colors">
                                        <i class="fas fa-calculator text-sm group-hover:scale-110 transition-transform"></i>
                                    </div>
                                    <span class="text-sm">Calculadora</span>
                                </div>
                            </a>
                            
                            <a href="#" class="group flex items-center justify-between px-4 py-3 text-white/60 hover:text-white/80 hover:bg-gradient-to-r hover:from-white/10 hover:to-white/5 rounded-xl transition-all duration-300">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-white/10 transition-colors">
                                        <i class="fas fa-chart-pie text-sm group-hover:scale-110 transition-transform"></i>
                                    </div>
                                    <span class="text-sm">Estad√≠sticas</span>
                                </div>
                            </a>
                            
                            <a href="#" class="group flex items-center justify-between px-4 py-3 text-white/60 hover:text-white/80 hover:bg-gradient-to-r hover:from-white/10 hover:to-white/5 rounded-xl transition-all duration-300">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-white/10 transition-colors">
                                        <i class="fas fa-cog text-sm group-hover:scale-110 transition-transform"></i>
                                    </div>
                                    <span class="text-sm">Configuraci√≥n</span>
                                </div>
                            </a>
                        </nav>
                    </div>

                    <!-- Estad√≠sticas en Tiempo Real -->
                    <div class="bg-gradient-to-br from-white/5 to-white/[0.02] rounded-xl border border-white/10 p-4 backdrop-blur-sm">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="text-sm font-medium text-white/90">Rendimiento Hoy</h3>
                            <div class="flex items-center space-x-1">
                                <div class="w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"></div>
                                <span class="text-xs text-green-400">Live</span>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                                    <span class="text-xs text-white/60">Se√±ales</span>
                                </div>
                                <span class="text-sm font-semibold text-blue-400">24</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                    <span class="text-xs text-white/60">Precisi√≥n</span>
                                </div>
                                <span class="text-sm font-semibold text-green-400">87.3%</span>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                                    <span class="text-xs text-white/60">Ganancia</span>
                                </div>
                                <span class="text-sm font-semibold text-yellow-400">+‚Ç¨247</span>
                            </div>
                        </div>
                        
                        <!-- Mini gr√°fico de progreso -->
                        <div class="mt-3 pt-2 border-t border-white/5">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-xs text-white/40">Progreso del d√≠a</span>
                                <span class="text-xs text-white/60">87%</span>
                            </div>
                            <div class="w-full bg-white/10 rounded-full h-1.5">
                                <div class="bg-gradient-to-r from-blue-400 to-green-400 h-1.5 rounded-full transition-all duration-500" style="width: 87%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Estado del Sistema -->
                    <div class="bg-gradient-to-br from-green-500/10 to-green-500/5 rounded-xl border border-green-500/20 p-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-shield-alt text-green-400 text-sm"></i>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-green-400">Sistema Activo</p>
                                <p class="text-xs text-green-400/60">Monitoreo 24/7</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer del Sidebar -->
            <div class="p-4 border-t border-white/5">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-blue-500/30 to-purple-500/30 rounded-lg flex items-center justify-center">
                        <span class="text-white/80 text-sm font-medium">U</span>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-white/90">Usuario Pro</p>
                        <p class="text-xs text-white/40">Plan Premium</p>
                    </div>
                    <button class="w-8 h-8 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 flex items-center justify-center transition-all duration-300 group">
                        <i class="fas fa-ellipsis-v text-white/60 group-hover:text-white/80 text-sm transition-colors"></i>
                    </button>
                </div>
            </div>
        </div>
    </aside>

    <!-- Overlay para m√≥viles con blur mejorado -->
    <div id="mobileOverlay" class="fixed inset-0 bg-black/60 backdrop-blur-md z-30 lg:hidden opacity-0 pointer-events-none transition-all duration-300"></div>

    <!-- Bot√≥n de Toggle para M√≥viles (Siempre Visible) -->
    <button id="mobileToggleBtn" class="fixed top-20 left-4 z-50 lg:hidden w-12 h-12 bg-blue-500/80 hover:bg-blue-500 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
        </svg>
    </button>

    <!-- Indicador de Estado del Sidebar (Temporal para Debug) -->
    <div id="sidebarStatus" class="fixed top-20 right-4 z-50 lg:hidden bg-black/80 text-white px-3 py-2 rounded-lg text-xs border border-white/20">
        <div class="flex items-center space-x-2">
            <div id="statusDot" class="w-2 h-2 bg-red-400 rounded-full"></div>
            <span id="statusText">Sidebar: Oculto</span>
        </div>
    </div>

    <!-- Bot√≥n de Prueba para Forzar Sidebar (Temporal) -->
    <button id="forceSidebarBtn" class="fixed top-32 left-4 z-50 lg:hidden bg-green-500/80 hover:bg-green-500 text-white px-3 py-2 rounded-lg text-xs border border-white/20 transition-all duration-300">
        Forzar Sidebar
    </button>

    <!-- Contenido Principal -->
    <main class="pt-16 min-h-screen transition-all duration-300 ml-80">
        <div class="p-2 lg:p-2">
            <!-- M√©tricas Ultra-Minimalistas - 2 Columnas en M√≥vil -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-4">
                <div class="group p-3 lg:p-5 bg-white/5 rounded-lg lg:rounded-xl border border-white/10 hover:border-white/20 transition-all duration-500 hover:bg-white/10">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <p class="text-xs lg:text-sm font-medium text-white/40 mb-1">Total</p>
                            <p class="text-xl lg:text-2xl font-light text-white/90" id="totalSignals">1,247</p>
                        </div>
                        <div class="w-8 h-8 lg:w-10 lg:h-10 bg-blue-500/20 rounded-lg border border-blue-500/30 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-4 h-4 lg:w-5 lg:h-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="flex items-center text-xs">
                        <span class="text-green-400 flex items-center font-medium">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                            </svg>
                            12%
                        </span>
                        <span class="text-white/30 ml-2 hidden lg:block">vs mes anterior</span>
                    </div>
                </div>

                <div class="group p-3 lg:p-5 bg-white/5 rounded-lg lg:rounded-xl border border-white/10 hover:border-white/20 transition-all duration-500 hover:bg-white/10">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <p class="text-xs lg:text-sm font-medium text-white/40 mb-1">Precisi√≥n</p>
                            <p class="text-xl lg:text-2xl font-light text-white/90" id="precision">87.3%</p>
                        </div>
                        <div class="w-8 h-8 lg:w-10 lg:h-10 bg-green-500/20 rounded-lg border border-green-500/30 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-4 h-4 lg:w-5 lg:h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                    <div class="flex items-center text-xs">
                        <span class="text-green-400 flex items-center font-medium">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                            </svg>
                            5.2%
                        </span>
                        <span class="text-white/30 ml-2 hidden lg:block">vs mes anterior</span>
                    </div>
                </div>

                <div class="group p-3 lg:p-5 bg-white/5 rounded-lg lg:rounded-xl border border-white/10 hover:border-white/20 transition-all duration-500 hover:bg-white/10">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <p class="text-xs lg:text-sm font-medium text-white/40 mb-1">Ganancia</p>
                            <p class="text-xl lg:text-2xl font-light text-white/90" id="ganancia">‚Ç¨2,847</p>
                        </div>
                        <div class="w-8 h-8 lg:w-10 lg:h-10 bg-yellow-500/20 rounded-lg border border-yellow-500/30 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-4 h-4 lg:w-5 lg:h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                    <div class="flex items-center text-xs">
                        <span class="text-green-400 flex items-center font-medium">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                            </svg>
                            18.7%
                        </span>
                        <span class="text-white/30 ml-2 hidden lg:block">vs mes anterior</span>
                    </div>
                </div>

                <div class="group p-3 lg:p-5 bg-white/5 rounded-lg lg:rounded-xl border border-white/10 hover:border-white/20 transition-all duration-500 hover:bg-white/10">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <p class="text-xs lg:text-sm font-medium text-white/40 mb-1">Activas</p>
                            <p class="text-xl lg:text-2xl font-light text-white/90" id="activas">8</p>
                        </div>
                        <div class="w-8 h-8 lg:w-10 lg:h-10 bg-purple-500/20 rounded-lg border border-purple-500/30 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                            <svg class="w-4 h-4 lg:w-5 lg:h-5 text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                    <div class="flex items-center text-xs">
                        <span class="text-blue-400 flex items-center font-medium">
                            <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                            </svg>
                            <span class="hidden lg:inline">En tiempo real</span>
                            <span class="lg:hidden">Live</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Gr√°fico y Se√±ales Recientes - Stack en M√≥vil -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6 mb-4">
                <!-- Gr√°fico Minimalista -->
                <div class="p-4 lg:p-5 bg-white/5 rounded-lg lg:rounded-xl border border-white/10">
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="text-lg font-medium text-white/90">Rendimiento</h3>
                        <select class="text-xs bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white/80 focus:outline-none focus:border-blue-500/50 transition-colors">
                            <option>30 d√≠as</option>
                            <option>7 d√≠as</option>
                            <option>90 d√≠as</option>
                        </select>
                    </div>
                    <div class="h-48 lg:h-56 bg-white/5 rounded-lg border border-white/10 flex items-center justify-center">
                        <div class="text-center">
                            <div class="w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mb-3">
                                <svg class="w-6 h-6 text-white/30" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                                </svg>
                            </div>
                            <p class="text-white/40 text-xs">Gr√°fico de rendimiento</p>
                        </div>
                    </div>
                </div>

                <!-- Se√±ales Recientes Ultra-Minimalistas -->
                <div class="p-4 lg:p-5 bg-white/5 rounded-lg lg:rounded-xl border border-white/10">
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="text-lg font-medium text-white/90">Recientes</h3>
                        <a href="#" class="text-xs text-blue-400 hover:text-blue-300 transition-colors">Ver todas</a>
                    </div>
                                            <div class="space-y-2">
                        <div class="group p-3 bg-white/5 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/10 transition-all duration-300">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                    <div>
                                        <p class="text-sm font-medium text-white/90">Rojo</p>
                                        <p class="text-xs text-white/40">Hace 2 min</p>
                                    </div>
                                </div>
                                <span class="text-sm font-medium text-green-400">+‚Ç¨25</span>
                            </div>
                        </div>
                        
                        <div class="group p-3 bg-white/5 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/10 transition-all duration-300">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-2 h-2 bg-red-400 rounded-full"></div>
                                    <div>
                                        <p class="text-sm font-medium text-white/90">Negro</p>
                                        <p class="text-xs text-white/40">Hace 5 min</p>
                                    </div>
                                </div>
                                <span class="text-sm font-medium text-red-400">-‚Ç¨10</span>
                            </div>
                        </div>
                        
                        <div class="group p-3 bg-white/5 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/10 transition-all duration-300">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                    <div>
                                        <p class="text-sm font-medium text-white/90">Verde</p>
                                        <p class="text-xs text-white/40">Hace 8 min</p>
                                    </div>
                                </div>
                                <span class="text-sm font-medium text-green-400">+‚Ç¨50</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tabla Ultra-Minimalista -->
            <div class="bg-white/5 rounded-lg lg:rounded-xl border border-white/10 overflow-hidden">
                <div class="px-4 lg:px-5 py-3 border-b border-white/10">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-medium text-white/90">Todas las Se√±ales</h3>
                        <button class="px-3 py-2 bg-blue-500/20 text-blue-400 rounded-lg border border-blue-500/30 hover:bg-blue-500/30 hover:border-blue-500/50 transition-all duration-300 font-medium text-xs">
                            <svg class="w-3 h-3 mr-2 inline" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                            </svg>
                            <span class="hidden sm:inline">Nueva Se√±al</span>
                            <span class="sm:hidden">Nueva</span>
                        </button>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-white/5">
                            <tr>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white/40 uppercase tracking-wider">Tipo</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white/40 uppercase tracking-wider">Resultado</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white/40 uppercase tracking-wider">Apuesta</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white/40 uppercase tracking-wider">Ganancia</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white/40 uppercase tracking-wider">Fecha</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white/40 uppercase tracking-wider">Estado</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5">
                            <tr class="hover:bg-white/5 transition-colors duration-300">
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30">
                                        Rojo
                                    </span>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">Ganada</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">‚Ç¨25</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-green-400 font-medium">+‚Ç¨25</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/50">Hace 2 min</td>
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30">
                                        Completada
                                    </span>
                                </td>
                            </tr>
                            <tr class="hover:bg-white/5 transition-colors duration-300">
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-black/20 text-white/90 border border-white/20">
                                        Negro
                                    </span>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">Perdida</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">‚Ç¨10</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-red-400 font-medium">-‚Ç¨10</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/50">Hace 5 min</td>
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30">
                                        Completada
                                    </span>
                                </td>
                            </tr>
                            <tr class="hover:bg-white/5 transition-colors duration-300">
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30">
                                        Verde
                                    </span>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">Ganada</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">‚Ç¨25</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-green-400 font-medium">+‚Ç¨50</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-white/50">Hace 8 min</td>
                                <td class="px-4 py-3 whitespace-nowrap">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30">
                                        Completada
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script>
        // Elementos del DOM
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const sidebar = document.getElementById('sidebar');
        const mobileOverlay = document.getElementById('mobileOverlay');
        const main = document.querySelector('main');
        const mobileToggleBtn = document.getElementById('mobileToggleBtn');
        const sidebarStatus = document.getElementById('sidebarStatus');
        const statusDot = document.getElementById('statusDot');
        const statusText = document.getElementById('statusText');
        const forceSidebarBtn = document.getElementById('forceSidebarBtn');

        // Funci√≥n para mostrar/ocultar sidebar en m√≥viles
        function toggleSidebar() {
            if (window.innerWidth < 1024) {
                const isOpen = sidebar.classList.contains('show-mobile');
                
                if (isOpen) {
                    // Cerrar sidebar
                    sidebar.classList.remove('show-mobile');
                    mobileOverlay.classList.add('opacity-0', 'pointer-events-none');
                    statusDot.className = 'w-2 h-2 bg-red-400 rounded-full';
                    statusText.textContent = 'Sidebar: Oculto';
                } else {
                    // Abrir sidebar
                    sidebar.classList.add('show-mobile');
                    mobileOverlay.classList.remove('opacity-0', 'pointer-events-none');
                    statusDot.className = 'w-2 h-2 bg-green-400 rounded-full';
                    statusText.textContent = 'Sidebar: Visible';
                }
            }
        }

        // Event listeners
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', toggleSidebar);
        }

        if (mobileToggleBtn) {
            mobileToggleBtn.addEventListener('click', toggleSidebar);
        }

        if (mobileOverlay) {
            mobileOverlay.addEventListener('click', () => {
                if (window.innerWidth < 1024) {
                    sidebar.classList.remove('show-mobile');
                    mobileOverlay.classList.add('opacity-0', 'pointer-events-none');
                    statusDot.className = 'w-2 h-2 bg-red-400 rounded-full';
                    statusText.textContent = 'Sidebar: Oculto';
                }
            });
        }

        if (forceSidebarBtn) {
            forceSidebarBtn.addEventListener('click', () => {
                if (window.innerWidth < 1024) {
                    sidebar.classList.add('show-mobile');
                    mobileOverlay.classList.remove('opacity-0', 'pointer-events-none');
                    statusDot.className = 'w-2 h-2 bg-green-400 rounded-full';
                    statusText.textContent = 'Sidebar: Visible';
                }
            });
        }

        // Cerrar sidebar con tecla Escape en m√≥viles
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && window.innerWidth < 1024) {
                sidebar.classList.remove('show-mobile');
                mobileOverlay.classList.add('opacity-0', 'pointer-events-none');
                statusDot.className = 'w-2 h-2 bg-red-400 rounded-full';
                statusText.textContent = 'Sidebar: Oculto';
            }
        });

        // Gestos t√°ctiles para m√≥viles
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (window.innerWidth >= 1024) return; // Solo en m√≥viles
            
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;

            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swipe izquierda - cerrar sidebar
                    if (sidebar.classList.contains('show-mobile')) {
                        sidebar.classList.remove('show-mobile');
                        mobileOverlay.classList.add('opacity-0', 'pointer-events-none');
                        statusDot.className = 'w-2 h-2 bg-red-400 rounded-full';
                        statusText.textContent = 'Sidebar: Oculto';
                    }
                } else if (diff < 0) {
                    // Swipe derecha - abrir sidebar
                    if (!sidebar.classList.contains('show-mobile')) {
                        sidebar.classList.add('show-mobile');
                        mobileOverlay.classList.remove('opacity-0', 'pointer-events-none');
                        statusDot.className = 'w-2 h-2 bg-green-400 rounded-full';
                        statusText.textContent = 'Sidebar: Visible';
                    }
                }
            }
        }

        // Asegurar que el sidebar est√© visible en desktop
        function ensureSidebarVisibility() {
            if (window.innerWidth >= 1024) {
                sidebar.classList.remove('show-mobile');
                sidebar.classList.remove('-translate-x-full');
                main.classList.add('ml-80');
                sidebar.style.transform = 'translateX(0)';
                sidebar.style.visibility = 'visible';
                sidebar.style.opacity = '1';
                sidebar.style.display = 'block';
                statusDot.className = 'w-2 h-2 bg-green-400 rounded-full';
                statusText.textContent = 'Sidebar: Visible';
            } else {
                main.classList.remove('ml-80');
                sidebar.classList.add('-translate-x-full');
                sidebar.classList.remove('show-mobile');
                statusDot.className = 'w-2 h-2 bg-red-400 rounded-full';
                statusText.textContent = 'Sidebar: Oculto';
            }
        }

        // Ejecutar al cargar y en resize
        window.addEventListener('resize', ensureSidebarVisibility);
        document.addEventListener('DOMContentLoaded', ensureSidebarVisibility);
        
        // Ejecutar inmediatamente
        setTimeout(ensureSidebarVisibility, 100);
        setTimeout(ensureSidebarVisibility, 500);

        // Log de estado del sidebar
        console.log('üîç Estado del Sidebar:');
        console.log('- Elemento sidebar:', sidebar);
        console.log('- Clases actuales:', sidebar?.className);
        console.log('- Estilos transform:', sidebar?.style.transform);
        console.log('- Ancho de ventana:', window.innerWidth);
        
        // Verificar elementos del DOM
        console.log('üîç Elementos del DOM:');
        console.log('- mobileMenuBtn:', mobileMenuBtn);
        console.log('- mobileToggleBtn:', mobileToggleBtn);
        console.log('- sidebarStatus:', sidebarStatus);
        console.log('- forceSidebarBtn:', forceSidebarBtn);

        // ========================================
        // SISTEMA WEBSOCKET PARA DATOS EN TIEMPO REAL
        // ========================================
        
        let ws = null;
        let isConnected = false;
        let reconnectAttempts = 0;
        const maxReconnectAttempts = 5;
        
        // Elementos del DOM para actualizar
        const totalSignalsElement = document.querySelector('.group:nth-child(1) .text-xl');
        const precisionElement = document.querySelector('.group:nth-child(2) .text-xl');
        const gananciaElement = document.querySelector('.group:nth-child(3) .text-xl');
        const activasElement = document.querySelector('.group:nth-child(4) .text-xl');
        
        // Funci√≥n para conectar al WebSocket
        function connectWebSocket() {
            try {
                ws = new WebSocket('wss://statszones.com:8865/');
                
                ws.onopen = function() {
                    console.log('‚úÖ Conectado al WebSocket de Roulette Signals');
                    isConnected = true;
                    reconnectAttempts = 0;
                    updateConnectionStatus(true);
                };
                
                ws.onmessage = function(event) {
                    try {
                        const data = JSON.parse(event.data);
                        processWebSocketMessage(data);
                    } catch (error) {
                        console.log('üì® Mensaje de texto recibido:', event.data);
                        processTextMessage(event.data);
                    }
                };
                
                ws.onclose = function() {
                    console.log('‚ùå Conexi√≥n WebSocket cerrada');
                    isConnected = false;
                    updateConnectionStatus(false);
                    
                    // Intentar reconectar
                    if (reconnectAttempts < maxReconnectAttempts) {
                        reconnectAttempts++;
                        console.log(`üîÑ Intentando reconectar... (${reconnectAttempts}/${maxReconnectAttempts})`);
                        setTimeout(connectWebSocket, 3000);
                    }
                };
                
                ws.onerror = function(error) {
                    console.error('‚ùå Error en WebSocket:', error);
                    isConnected = false;
                    updateConnectionStatus(false);
                };
                
            } catch (error) {
                console.error('‚ùå Error al conectar WebSocket:', error);
            }
        }
        
        // Funci√≥n para procesar mensajes JSON del WebSocket
        function processWebSocketMessage(data) {
            console.log('üìä Datos JSON recibidos:', data);
            console.log('üìä Tipo de mensaje:', data.type);
            
            switch(data.type) {
                case 'datos_financieros':
                    console.log('üí∞ Procesando datos financieros:', data.estadisticas);
                    updateFinancialData(data.estadisticas);
                    break;
                    
                case 'historial_profesional':
                    console.log('üìä Procesando historial profesional:', data.historial);
                    console.log('üìä Estad√≠sticas del historial:', data.estadisticas);
                    updateProfessionalHistory(data.historial, data.estadisticas);
                    break;
                    
                case 'ultimos_100':
                    console.log('üé≤ Procesando √∫ltimos 100 resultados:', data.ultimos_100);
                    updateLastResults(data.ultimos_100);
                    break;
                    
                case 'ultimos_5':
                    console.log('üé≤ Procesando √∫ltimos 5 resultados:', data.ultimos_5);
                    updateLast5Results(data.ultimos_5);
                    break;
                    
                case 'resumen_financiero':
                    console.log('üí∞ Procesando resumen financiero:', data.estadisticas);
                    updateFinancialSummary(data.estadisticas);
                    break;
                    
                case 'resumen_historial_profesional':
                    console.log('üìä Procesando resumen del historial:', data.estadisticas);
                    updateHistorySummary(data.estadisticas);
                    break;
                    
                default:
                    console.log('üì® Tipo de mensaje no reconocido:', data.type);
            }
        }
        
        // Funci√≥n para procesar mensajes de texto (se√±ales directas)
        function processTextMessage(message) {
            console.log('üì® Mensaje de texto recibido:', message);
            
            if (message.includes('BET SIGNAL') || message.includes('GALE SIGNAL') || 
                message.includes('WIN SIGNAL') || message.includes('LOSS SIGNAL') || 
                message.includes('TIE SIGNAL')) {
                console.log('üéØ Se√±al detectada en mensaje de texto:', message);
                addSignalToHistory(message);
            } else {
                console.log('üì® Mensaje de texto no reconocido como se√±al');
            }
        }
        
        // Funci√≥n para actualizar datos financieros
        function updateFinancialData(stats) {
            // Actualizar m√©tricas principales
            if (totalSignalsElement) {
                totalSignalsElement.textContent = stats.total_apuestas || '0';
            }
            
            if (precisionElement) {
                precisionElement.textContent = `${stats.porcentaje_exito?.toFixed(1) || '0'}%`;
            }
            
            if (gananciaElement) {
                const balance = stats.balance_neto || 0;
                gananciaElement.textContent = `‚Ç¨${balance.toFixed(2)}`;
                gananciaElement.className = balance >= 0 ? 'text-xl lg:text-2xl font-light text-green-400' : 'text-xl lg:text-2xl font-light text-red-400';
            }
            
            if (activasElement) {
                activasElement.textContent = stats.gale_actual > 0 ? '1' : '0';
            }
            
            // Actualizar sidebar con datos financieros
            updateSidebarFinancialInfo(stats);
            
            // Mostrar resumen financiero si est√° disponible
            if (stats.perdidas_acumuladas !== undefined) {
                mostrarResumenFinanciero(stats);
            }
        }
        
        // Funci√≥n para mostrar resumen financiero en la interfaz
        function mostrarResumenFinanciero(stats) {
            // Buscar o crear contenedor de resumen financiero
            let resumenContainer = document.querySelector('#resumenFinanciero');
            if (!resumenContainer) {
                resumenContainer = document.createElement('div');
                resumenContainer.id = 'resumenFinanciero';
                resumenContainer.className = 'bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-500/20 p-4 mb-4';
                
                // Insertar despu√©s de las m√©tricas principales
                const metricsContainer = document.querySelector('.grid.grid-cols-2.lg\\:grid-cols-4');
                if (metricsContainer) {
                    metricsContainer.parentNode.insertBefore(resumenContainer, metricsContainer.nextSibling);
                }
            }
            
            const perdidasAcumuladas = stats.perdidas_acumuladas || 0;
            const gananciaEsperada = stats.ganancia_esperada || 0;
            
            resumenContainer.innerHTML = `
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium text-white/90">Resumen Financiero</h3>
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-blue-400 rounded-full animate-pulse"></div>
                        <span class="text-xs text-blue-400 font-medium">Live</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="text-center p-3 bg-white/5 rounded-lg border border-white/10">
                        <div class="flex items-center justify-center mb-2">
                            ${getFinancialIconSVG('capital')}
                        </div>
                        <p class="text-xs text-white/40 mb-1">Capital Actual</p>
                        <p class="text-lg font-semibold text-white/90">‚Ç¨${stats.capital_actual?.toFixed(2) || '0.00'}</p>
                    </div>
                    <div class="text-center p-3 bg-white/5 rounded-lg border border-white/10">
                        <div class="flex items-center justify-center mb-2">
                            ${getFinancialIconSVG('balance')}
                        </div>
                        <p class="text-xs text-white/40 mb-1">Balance Neto</p>
                        <p class="text-lg font-semibold ${stats.balance_neto >= 0 ? 'text-green-400' : 'text-red-400'}">${stats.balance_neto >= 0 ? '+' : ''}‚Ç¨${stats.balance_neto?.toFixed(2) || '0.00'}</p>
                    </div>
                    <div class="text-center p-3 bg-white/5 rounded-lg border border-white/10">
                        <div class="flex items-center justify-center mb-2">
                            ${getFinancialIconSVG('losses')}
                        </div>
                        <p class="text-xs text-white/40 mb-1">P√©rdidas Acumuladas</p>
                        <p class="text-lg font-semibold text-red-400">‚Ç¨${perdidasAcumuladas.toFixed(2)}</p>
                    </div>
                    <div class="text-center p-3 bg-white/5 rounded-lg border border-white/10">
                        <div class="flex items-center justify-center mb-2">
                            ${getFinancialIconSVG('expected')}
                        </div>
                        <p class="text-xs text-white/40 mb-1">Ganancia Esperada</p>
                        <p class="text-lg font-semibold text-blue-400">‚Ç¨${gananciaEsperada.toFixed(2)}</p>
                    </div>
                </div>
            `;
        }
        
        // Funci√≥n para actualizar informaci√≥n financiera en el sidebar
        function updateSidebarFinancialInfo(stats) {
            // Buscar espec√≠ficamente el contenedor de estad√≠sticas del sidebar
            const sidebarStats = document.querySelector('#sidebar .bg-gradient-to-br.from-white\\/5.to-white\\/\\[0\\.02\\]');
            if (sidebarStats) {
                const signalsElement = sidebarStats.querySelector('.text-blue-400');
                const precisionElement = sidebarStats.querySelector('.text-green-400');
                const gananciaElement = sidebarStats.querySelector('.text-yellow-400');
                
                if (signalsElement) signalsElement.textContent = stats.total_apuestas || '0';
                if (precisionElement) precisionElement.textContent = `${stats.porcentaje_exito?.toFixed(1) || '0'}%`;
                if (gananciaElement) gananciaElement.textContent = `‚Ç¨${stats.balance_neto?.toFixed(0) || '0'}`;
                
                console.log('‚úÖ Estad√≠sticas del sidebar actualizadas');
            } else {
                console.log('‚ö†Ô∏è Contenedor de estad√≠sticas del sidebar no encontrado');
            }
        }
        
        // Funci√≥n para actualizar historial profesional
        function updateProfessionalHistory(historial, estadisticas) {
            // Actualizar tabla de se√±ales
            updateSignalsTable(historial);
            
            // Actualizar se√±ales recientes en el contenido principal
            updateRecentSignals(historial.slice(0, 3));
            
            // Actualizar se√±ales recientes en el sidebar (sin tocar la navegaci√≥n)
            updateSidebarRecentSignals(historial.slice(0, 3));
            
            // Actualizar estad√≠sticas del historial
            updateHistoryStats(estadisticas);
        }
        
        // Funci√≥n para actualizar tabla de se√±ales
        function updateSignalsTable(historial) {
            const tbody = document.querySelector('tbody');
            if (!tbody) return;
            
            console.log('üîç Datos del historial recibidos:', historial);
            
            tbody.innerHTML = '';
            
            historial.forEach((entrada, index) => {
                console.log(`üîç Entrada ${index}:`, entrada);
                console.log(`üîç Tipo: ${entrada.tipo}`);
                console.log(`üîç Datos:`, entrada.datos);
                console.log(`üîç Dat:`, entrada.dat);
                console.log(`üîç Apuesta monto:`, entrada.apuesta_monto);
                
                const row = document.createElement('tr');
                row.className = 'hover:bg-white/5 transition-colors duration-300';
                
                const tipoIcon = getSignalIconSVG(entrada.tipo);
                const resultado = getResultText(entrada.tipo);
                const apuesta = entrada.apuesta_monto ? `‚Ç¨${entrada.apuesta_monto.toFixed(2)}` : '-';
                const ganancia = getGananciaText(entrada);
                const gananciaDetallada = getGananciaDetallada(entrada);
                const fecha = `${entrada.hora} | ${entrada.fecha}`;
                const estado = entrada.estado;
                
                console.log(`üîç Ganancia calculada: ${ganancia}`);
                console.log(`üîç Ganancia detallada: ${gananciaDetallada}`);
                
                row.innerHTML = `
                    <td class="px-4 py-3 whitespace-nowrap">
                        <span class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium ${getSignalTypeClass(entrada.tipo)}">
                            <span class="mr-1.5">${tipoIcon}</span>
                            ${entrada.tipo}
                        </span>
                    </td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">${resultado}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-white/90">${apuesta}</td>
                    <td class="px-4 py-3 whitespace-nowrap">
                        <div class="space-y-2">
                            <div class="text-sm ${getGananciaClass(entrada)} font-medium">${ganancia}</div>
                            ${gananciaDetallada}
                        </div>
                    </td>
                    <td class="px-4 py-3 whitespace-nowrap text-sm text-white/50">${fecha}</td>
                    <td class="px-4 py-3 whitespace-nowrap">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getEstadoClass(estado)}">
                            ${estado}
                        </span>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }
        
        // Funci√≥n para actualizar se√±ales recientes en el contenido principal
        function updateRecentSignals(se√±ales) {
            // Buscar espec√≠ficamente el contenedor de se√±ales recientes en el contenido principal
            const container = document.querySelector('main .space-y-2');
            if (!container) {
                console.log('‚ö†Ô∏è Contenedor de se√±ales recientes no encontrado en el contenido principal');
                return;
            }
            
            container.innerHTML = '';
            
            se√±ales.forEach(se√±al => {
                const div = document.createElement('div');
                div.className = 'group p-3 bg-white/5 rounded-lg border border-white/10 hover:border-white/20 hover:bg-white/10 transition-all duration-300';
                
                const color = getSignalColor(se√±al.tipo);
                const icon = getSignalIconSVG(se√±al.tipo);
                const resultado = getResultText(se√±al.tipo);
                const ganancia = getGananciaText(se√±al);
                const gananciaDetallada = getGananciaDetallada(se√±al);
                
                div.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 ${color} rounded-full"></div>
                            <div>
                                <div class="flex items-center space-x-2">
                                    <span class="text-white/60">${icon}</span>
                                    <p class="text-sm font-medium text-white/90">${se√±al.tipo}</p>
                                </div>
                                <p class="text-xs text-white/40">${se√±al.hora}</p>
                                <p class="text-xs text-white/50">${resultado}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="text-sm font-medium ${getGananciaClass(se√±al)}">${ganancia}</span>
                            <div class="mt-1">${gananciaDetallada}</div>
                        </div>
                    </div>
                `;
                
                container.appendChild(div);
            });
            
            console.log('‚úÖ Se√±ales recientes actualizadas en el contenido principal');
        }
        
        // Funci√≥n para actualizar solo las se√±ales recientes del sidebar (sin tocar la navegaci√≥n)
        function updateSidebarRecentSignals(se√±ales) {
            // Crear un contenedor espec√≠fico para se√±ales recientes en el sidebar si no existe
            let sidebarSignalsContainer = document.querySelector('#sidebar .sidebar-recent-signals');
            
            if (!sidebarSignalsContainer) {
                // Crear el contenedor si no existe
                const sidebarContent = document.querySelector('#sidebar .flex-1 .p-4');
                if (sidebarContent) {
                    // Agregar despu√©s de las estad√≠sticas
                    const statsSection = sidebarContent.querySelector('.bg-gradient-to-br.from-white\\/5.to-white\\/\\[0\\.02\\]');
                    if (statsSection) {
                        const newSignalsSection = document.createElement('div');
                        newSignalsSection.className = 'sidebar-recent-signals bg-gradient-to-br from-white/5 to-white/[0.02] rounded-xl border border-white/10 p-4 backdrop-blur-sm mt-4';
                        newSignalsSection.innerHTML = `
                            <div class="flex items-center justify-between mb-3">
                                <h3 class="text-sm font-medium text-white/90">Se√±ales Recientes</h3>
                                <div class="flex items-center space-x-1">
                                    <div class="w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse"></div>
                                    <span class="text-xs text-blue-400">Live</span>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <!-- Las se√±ales se insertar√°n aqu√≠ -->
                            </div>
                        `;
                        
                        // Insertar despu√©s de las estad√≠sticas
                        statsSection.parentNode.insertBefore(newSignalsSection, statsSection.nextSibling);
                        sidebarSignalsContainer = newSignalsSection.querySelector('.space-y-2');
                        
                        console.log('‚úÖ Nueva secci√≥n de se√±ales recientes creada en el sidebar');
                    }
                }
            }
            
            if (sidebarSignalsContainer) {
                sidebarSignalsContainer.innerHTML = '';
                
                se√±ales.forEach(se√±al => {
                    const color = getSignalColor(se√±al.tipo);
                    const icon = getSignalIconSVG(se√±al.tipo);
                    const resultado = getResultText(se√±al.tipo);
                    const ganancia = getGananciaText(se√±al);
                    const gananciaDetallada = getGananciaDetallada(se√±al);
                    
                    const signalDiv = document.createElement('div');
                    signalDiv.className = 'flex items-center justify-between p-2 bg-white/5 rounded-lg border border-white/10';
                    signalDiv.innerHTML = `
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 ${color} rounded-full"></div>
                            <div>
                                <div class="flex items-center space-x-1.5">
                                    <span class="text-white/60">${icon}</span>
                                    <span class="text-xs text-white/80">${se√±al.tipo}</span>
                                </div>
                                <p class="text-xs text-white/50">${resultado}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="text-xs ${getGananciaClass(se√±al)}">${ganancia}</span>
                            <div class="mt-0.5">${gananciaDetallada}</div>
                        </div>
                    `;
                    
                    sidebarSignalsContainer.appendChild(signalDiv);
                });
                
                console.log('‚úÖ Se√±ales recientes del sidebar actualizadas');
            }
        }
        
        // Funciones auxiliares para obtener estilos y textos
        function getSignalTypeIcon(tipo) {
            const icons = {
                'BET': 'üéØ',
                'GALE': 'üîÑ',
                'WIN': '‚úÖ',
                'LOSS': '‚ùå',
                'TIE': 'üü¢'
            };
            return icons[tipo] || 'üìä';
        }
        
        function getSignalTypeClass(tipo) {
            const classes = {
                'BET': 'bg-blue-500/20 text-blue-400 border border-blue-500/30',
                'GALE': 'bg-purple-500/20 text-purple-400 border border-purple-500/30',
                'WIN': 'bg-green-500/20 text-green-400 border border-green-500/30',
                'LOSS': 'bg-red-500/20 text-red-400 border border-red-500/30',
                'TIE': 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30'
            };
            return classes[tipo] || 'bg-white/20 text-white/90 border border-white/20';
        }
        
        function getResultText(tipo) {
            const results = {
                'BET': 'Apuesta Inicial',
                'GALE': `Gale ${tipo === 'GALE' ? 'Activo' : ''}`,
                'WIN': 'Ganada',
                'LOSS': 'Perdida',
                'TIE': 'Empate'
            };
            return results[tipo] || 'Desconocido';
        }
        
        function getGananciaText(entrada) {
            if (entrada.tipo === 'WIN') {
                // Para se√±ales ganadas, mostrar la ganancia real
                const ganancia = entrada.datos?.ganancia || entrada.dat?.ganancia || 0;
                return `+‚Ç¨${ganancia.toFixed(2)}`;
            } else if (entrada.tipo === 'LOSS') {
                // Para se√±ales perdidas, mostrar la p√©rdida real
                const perdida = entrada.datos?.perdida || entrada.dat?.perdida || entrada.apuesta_monto || 0;
                return `-‚Ç¨${perdida.toFixed(2)}`;
            } else if (entrada.tipo === 'BET') {
                // Para apuestas, mostrar la ganancia esperada
                const gananciaEsperada = entrada.datos?.ganancia_esperada || entrada.dat?.ganancia_esperada || 0;
                return gananciaEsperada > 0 ? `+‚Ç¨${gananciaEsperada.toFixed(2)}` : '‚Ç¨0.00';
            } else if (entrada.tipo === 'GALE') {
                // Para gales, mostrar la ganancia esperada
                const gananciaEsperada = entrada.datos?.ganancia_esperada || entrada.dat?.ganancia_esperada || 0;
                return gananciaEsperada > 0 ? `+‚Ç¨${gananciaEsperada.toFixed(2)}` : '‚Ç¨0.00';
            } else if (entrada.tipo === 'TIE') {
                // Para empates, no hay ganancia ni p√©rdida
                return '‚Ç¨0.00';
            }
            return '‚Ç¨0.00';
        }
        
        function getGananciaClass(entrada) {
            if (entrada.tipo === 'WIN') {
                return 'text-green-400';
            } else if (entrada.tipo === 'LOSS') {
                return 'text-red-400';
            } else if (entrada.tipo === 'BET' || entrada.tipo === 'GALE') {
                // Para apuestas y gales, mostrar en azul si hay ganancia esperada
                const gananciaEsperada = entrada.datos?.ganancia_esperada || entrada.dat?.ganancia_esperada || 0;
                return gananciaEsperada > 0 ? 'text-blue-400' : 'text-white/60';
            } else if (entrada.tipo === 'TIE') {
                return 'text-yellow-400';
            }
            return 'text-white/60';
        }
        
        function getEstadoClass(estado) {
            return estado === 'COMPLETADA' ? 'bg-green-500/20 text-green-400 border border-green-500/30' : 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30';
        }
        
        function getSignalColor(tipo) {
            const colors = {
                'BET': 'bg-blue-400',
                'GALE': 'bg-purple-400',
                'WIN': 'bg-green-400',
                'LOSS': 'bg-red-400',
                'TIE': 'bg-yellow-400'
            };
            return colors[tipo] || 'bg-white/40';
        }
        
        function getSignalIcon(tipo) {
            const icons = {
                'BET': 'üéØ',
                'GALE': 'üîÑ',
                'WIN': '‚úÖ',
                'LOSS': '‚ùå',
                'TIE': 'üü¢'
            };
            return icons[tipo] || 'üìä';
        }
        
        function getGananciaDetallada(entrada) {
            if (entrada.tipo === 'WIN') {
                const ganancia = entrada.datos?.ganancia || entrada.dat?.ganancia || 0;
                const apuesta = entrada.apuesta_monto || entrada.datos?.apuesta_monto || 0;
                return `<div class="space-y-1">
                    <div class="text-xs text-green-400 font-medium">+‚Ç¨${ganancia.toFixed(2)} ganancia</div>
                    <div class="text-xs text-white/40">‚Ç¨${apuesta.toFixed(2)} apostado</div>
                </div>`;
            } else if (entrada.tipo === 'LOSS') {
                const perdida = entrada.datos?.perdida || entrada.dat?.perdida || entrada.apuesta_monto || 0;
                const apuesta = entrada.apuesta_monto || entrada.datos?.apuesta_monto || 0;
                return `<div class="space-y-1">
                    <div class="text-xs text-red-400 font-medium">-‚Ç¨${perdida.toFixed(2)} p√©rdida</div>
                    <div class="text-xs text-white/40">‚Ç¨${apuesta.toFixed(2)} apostado</div>
                </div>`;
            } else if (entrada.tipo === 'BET') {
                const gananciaEsperada = entrada.datos?.ganancia_esperada || entrada.dat?.ganancia_esperada || 0;
                const apuesta = entrada.apuesta_monto || entrada.datos?.apuesta_monto || 0;
                if (gananciaEsperada > 0) {
                    return `<div class="space-y-1">
                        <div class="text-xs text-blue-400 font-medium">+‚Ç¨${gananciaEsperada.toFixed(2)} esperado</div>
                        <div class="text-xs text-white/40">‚Ç¨${apuesta.toFixed(2)} apostado</div>
                    </div>`;
                } else {
                    return `<div class="space-y-1">
                        <div class="text-xs text-white/40">‚Ç¨${apuesta.toFixed(2)} apostado</div>
                        <div class="text-xs text-white/30">Sin ganancia esperada</div>
                    </div>`;
                }
            } else if (entrada.tipo === 'GALE') {
                const gananciaEsperada = entrada.datos?.ganancia_esperada || entrada.dat?.ganancia_esperada || 0;
                const apuesta = entrada.apuesta_monto || entrada.datos?.apuesta_monto || 0;
                if (gananciaEsperada > 0) {
                    return `<div class="space-y-1">
                        <div class="text-xs text-purple-400 font-medium">+‚Ç¨${gananciaEsperada.toFixed(2)} esperado</div>
                        <div class="text-xs text-white/40">‚Ç¨${apuesta.toFixed(2)} apostado</div>
                    </div>`;
                } else {
                    return `<div class="space-y-1">
                        <div class="text-xs text-white/40">‚Ç¨${apuesta.toFixed(2)} apostado</div>
                        <div class="text-xs text-white/30">Sin ganancia esperada</div>
                    </div>`;
                }
            } else if (entrada.tipo === 'TIE') {
                return `<div class="space-y-1">
                    <div class="text-xs text-yellow-400 font-medium">Sin ganancia ni p√©rdida</div>
                    <div class="text-xs text-white/30">Apuesta devuelta</div>
                </div>`;
            }
            return `<div class="space-y-1">
                <div class="text-xs text-white/30">Sin informaci√≥n disponible</div>
            </div>`;
        }
        
        // Funci√≥n para actualizar estado de conexi√≥n
        function updateConnectionStatus(connected) {
            const statusIndicator = document.querySelector('.w-1\\.5.h-1\\.5.bg-green-400');
            if (statusIndicator) {
                statusIndicator.className = connected ? 'w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse' : 'w-1.5 h-1.5 bg-red-400 rounded-full';
            }
        }
        
        // Funci√≥n para agregar se√±al al historial
        function addSignalToHistory(message) {
            // Aqu√≠ puedes implementar la l√≥gica para agregar se√±ales al historial
            console.log('üìù Nueva se√±al agregada:', message);
        }
        
        // Funci√≥n para actualizar √∫ltimos resultados
        function updateLastResults(resultados) {
            console.log('üé≤ √öltimos 100 resultados:', resultados);
            // Aqu√≠ puedes implementar la visualizaci√≥n de los √∫ltimos resultados
        }
        
        function updateLast5Results(resultados) {
            console.log('üé≤ √öltimos 5 resultados:', resultados);
            // Aqu√≠ puedes implementar la visualizaci√≥n de los √∫ltimos 5 resultados
        }
        
        function updateFinancialSummary(stats) {
            console.log('üí∞ Resumen financiero:', stats);
            // Aqu√≠ puedes implementar actualizaciones adicionales del resumen financiero
        }
        
        function updateHistorySummary(stats) {
            console.log('üìä Resumen del historial:', stats);
            // Aqu√≠ puedes implementar actualizaciones adicionales del resumen del historial
        }
        
        // Funci√≥n para actualizar estad√≠sticas del historial
        function updateHistoryStats(stats) {
            console.log('üìà Estad√≠sticas del historial:', stats);
            // Aqu√≠ puedes implementar la visualizaci√≥n de estad√≠sticas del historial
        }
        
        // Conectar al WebSocket cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Iniciando conexi√≥n WebSocket...');
            connectWebSocket();
        });
        
        // Reconectar si se pierde la conexi√≥n
        window.addEventListener('focus', function() {
            if (!isConnected && reconnectAttempts < maxReconnectAttempts) {
                console.log('üîÑ Intentando reconectar al enfocar la ventana...');
                connectWebSocket();
            }
        });
        
        // Funci√≥n de prueba para verificar que las funciones funcionen correctamente
        function testFunctions() {
            console.log('üß™ Iniciando prueba de funciones...');
            
            // Datos de prueba simulando lo que llega del WebSocket
            const datosPrueba = [
                {
                    id: 'TEST001',
                    tipo: 'WIN',
                    numero: 26,
                    hora: '17:01:42',
                    fecha: '20/08/2025',
                    estado: 'COMPLETADA',
                    apuesta_monto: 10.00,
                    datos: {
                        ganancia: 5.00,
                        apuesta_monto: 10.00,
                        docena_acertada: 1,
                        gale_numero: 0,
                        perdidas_recuperadas: 0
                    }
                },
                {
                    id: 'TEST002',
                    tipo: 'LOSS',
                    numero: 27,
                    hora: '17:01:45',
                    fecha: '20/08/2025',
                    estado: 'COMPLETADA',
                    apuesta_monto: 90.00,
                    datos: {
                        perdida: 90.00,
                        apuesta_monto: 90.00,
                        docena_fallida: 2,
                        gale_numero: 2,
                        perdidas_acumuladas: 130.00
                    }
                },
                {
                    id: 'TEST003',
                    tipo: 'BET',
                    numero: 28,
                    hora: '17:01:50',
                    fecha: '20/08/2025',
                    estado: 'ACTIVA',
                    apuesta_monto: 10.00,
                    datos: {
                        docenas_apostadas: 'Docenas 1 y 3',
                        monto_total: 10.00,
                        monto_por_docena: 5.00,
                        max_gales: 3,
                        ganancia_esperada: 5.00,
                        apuesta_monto: 10.00,
                        ganancia: 0,
                        perdida: 0
                    }
                }
            ];
            
            console.log('üß™ Datos de prueba:', datosPrueba);
            
            // Probar funci√≥n getGananciaText
            datosPrueba.forEach((entrada, index) => {
                console.log(`üß™ Prueba ${index + 1} - Tipo: ${entrada.tipo}`);
                console.log(`üß™ Ganancia calculada:`, getGananciaText(entrada));
                console.log(`ÔøΩÔøΩ Ganancia detallada (HTML):`, getGananciaDetallada(entrada));
                console.log(`üß™ Clase de ganancia:`, getGananciaClass(entrada));
                console.log('---');
            });
            
            // Probar actualizaci√≥n de tabla
            console.log('üß™ Probando actualizaci√≥n de tabla...');
            updateSignalsTable(datosPrueba);
            
            // Mostrar ejemplo de c√≥mo se ver√° en la interfaz
            console.log('üß™ Ejemplo de visualizaci√≥n:');
            console.log('‚úÖ WIN: +‚Ç¨5.00 (ganancia) y ‚Ç¨10.00 (apostado)');
            console.log('‚ùå LOSS: -‚Ç¨90.00 (p√©rdida) y ‚Ç¨90.00 (apostado)');
            console.log('üéØ BET: +‚Ç¨5.00 (esperado) y ‚Ç¨10.00 (apostado)');
        }

        // Funci√≥n para obtener iconos SVG profesionales en lugar de emojis
        function getSignalIconSVG(tipo) {
            const icons = {
                'BET': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>`,
                'GALE': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4z"/>
                </svg>`,
                'WIN': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>`,
                'LOSS': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                </svg>`,
                'TIE': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"/>
                </svg>`
            };
            return icons[tipo] || `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>`;
        }
        
        // Funci√≥n para obtener iconos SVG para m√©tricas
        function getMetricIconSVG(metric) {
            const icons = {
                'signals': `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                </svg>`,
                'precision': `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>`,
                'balance': `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
                </svg>`,
                'active': `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                </svg>`
            };
            return icons[metric] || icons['signals'];
        }
        
        // Funci√≥n para obtener iconos SVG para el resumen financiero
        function getFinancialIconSVG(type) {
            const icons = {
                'capital': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
                </svg>`,
                'balance': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>`,
                'losses': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                </svg>`,
                'expected': `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>`
            };
            return icons[type] || icons['capital'];
        }
    </script>
</body>
</html>
